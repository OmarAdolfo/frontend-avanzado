<div class="card">
    <div class="card-header">
        <i class="material-icons">perm_identity</i>
    </div>
    <div class="card-content">
        <h4 class="card-title">Información personal</h4>
        <div class="container" fxflexfill fxlayoutgap="10px grid">
            <div fxFlex="25" fxLayout="column" fxLayoutAlign="center center">
                <img class="profile-img" src="../../assets/img/marc.jpg" alt="Imagen del usuario">
                <div class="text-center">{{user.name}}</div>
                <div class="text-center">{{user.surname}}</div>
            </div>
            <div fxFlex="25">
                <div><b>Email:</b> {{user.email}}</div>

                <div><b>Fecha de nacimiento:</b> {{user.birthdate}}</div>

                <div><b>Teléfono:</b> {{user.phone}}</div>

                <div><b>NIF/NIE:</b> {{user.documentNumber}}</div>

                <div><b>Permisos de conducir:</b> {{user.license}}</div>

                <div><b>Dirección:</b> {{user.address.street}}</div>
            </div>
            <div fxFlex="25">
                <div>
                    <span><b>Acerca de mí:</b></span>
                </div>
                <div>
                    {{user.aboutMe}}
                </div>
            </div>
            <div fxFlex="25">
                <div>
                    <span><b>Otras competencias:</b></span>
                </div>
                <div>
                    {{user.otherCompetences}}
                </div>
            </div>
        </div>
        <div class="buttons" fxLayout="row" fxLayoutAlign="end center">
            <button mat-raised-button color="primary" type="button" (click)="goToPersonalInformationForm()">
                <i class="fa fa-pencil" aria-hidden="true"></i>
                Editar
            </button>
        </div>
        <mat-card-title>Formación académica</mat-card-title>
        <table mat-table [dataSource]="user.studies" class="mat-elevation-z8">

            <ng-container matColumnDef="level">
                <th mat-header-cell *matHeaderCellDef> Nivel </th>
                <td mat-cell *matCellDef="let element"> {{element.level.name}} </td>
            </ng-container>

            <ng-container matColumnDef="title">
                <th mat-header-cell *matHeaderCellDef> Título </th>
                <td mat-cell *matCellDef="let element"> {{element.title.name}} </td>
            </ng-container>

            <ng-container matColumnDef="institution">
                <th mat-header-cell *matHeaderCellDef> Centro </th>
                <td mat-cell *matCellDef="let element">
                    {{element.institution.name ? element.institution.name : element.institution}} </td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Fecha </th>
                <td mat-cell *matCellDef="let element"> {{element.date}} </td>
            </ng-container>

            <ng-container matColumnDef="certificate">
                <th mat-header-cell *matHeaderCellDef> Certificado </th>
                <td mat-cell *matCellDef="let element"> {{element.certificate ? 'Sí' : 'No'}} </td>
            </ng-container>

            <ng-container matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef> Opciones </th>
                <td mat-cell *matCellDef="let element">
                    <button type="button" mat-raised-button color="primary" (click)="goToProfileStudy(element.id)">
                        <i class="fa fa-edit" aria-hidden="true"></i>
                    </button>
                    <button type="button" mat-raised-button color="warn" (click)="removeStudie(element.id)">
                        <i class="fa fa-remove" aria-hidden="true"></i>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsStudies"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsStudies;"></tr>
        </table>
        <div class="buttons" fxLayout="row" fxLayoutAlign="end center">
            <button type="button" mat-raised-button color="primary" (click)="goToProfileStudy()">
                <i class="fa fa-plus" aria-hidden="true"></i>
                Nueva
            </button>
        </div>
        <mat-card-title>Experiencia laboral</mat-card-title>
        <table mat-table [dataSource]="user.experiencies" class="mat-elevation-z8">

            <ng-container matColumnDef="company">
                <th mat-header-cell *matHeaderCellDef> Empresa </th>
                <td mat-cell *matCellDef="let element"> {{element.company}} </td>
            </ng-container>

            <ng-container matColumnDef="position">
                <th mat-header-cell *matHeaderCellDef> Puesto </th>
                <td mat-cell *matCellDef="let element"> {{element.position}} </td>
            </ng-container>

            <ng-container matColumnDef="dates">
                <th mat-header-cell *matHeaderCellDef> Fechas </th>
                <td mat-cell *matCellDef="let element">
                    {{element.dateInitial + ' - ' + element.dateEnd}} </td>
            </ng-container>

            <ng-container matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef> Opciones </th>
                <td mat-cell *matCellDef="let element">
                    <button type="button" mat-raised-button color="primary" (click)="goToExperience(element.id)">
                        <i class="fa fa-edit" aria-hidden="true"></i>
                    </button>
                    <button type="button" mat-raised-button color="warn" (click)="removeExperience(element.id)">
                        <i class="fa fa-remove" aria-hidden="true"></i>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsExperiences"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsExperiences;"></tr>
        </table>
        <div class="buttons" fxLayout="row" fxLayoutAlign="end center">
            <button type="button" mat-raised-button color="primary" (click)="goToExperience()">
                <i class="fa fa-plus" aria-hidden="true"></i>
                Nueva
            </button>
        </div>
        <mat-card-title>Idiomas</mat-card-title>
        <table mat-table [dataSource]="user.languages" class="mat-elevation-z8">

            <ng-container matColumnDef="level">
                <th mat-header-cell *matHeaderCellDef> Nivel </th>
                <td mat-cell *matCellDef="let element"> {{element.level.name}} </td>
            </ng-container>

            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef> Idioma </th>
                <td mat-cell *matCellDef="let element"> {{element.name.name}} </td>
            </ng-container>

            <ng-container matColumnDef="date">
                <th mat-header-cell *matHeaderCellDef> Fecha </th>
                <td mat-cell *matCellDef="let element">
                    {{element.date}} </td>
            </ng-container>

            <ng-container matColumnDef="options">
                <th mat-header-cell *matHeaderCellDef> Opciones </th>
                <td mat-cell *matCellDef="let element">
                    <button type="button" mat-raised-button color="primary" (click)="goToProfileLanguage(element.id)">
                        <i class="fa fa-edit" aria-hidden="true"></i>
                    </button>
                    <button type="button" mat-raised-button color="warn" (click)="removeLanguage(element.id)">
                        <i class="fa fa-remove" aria-hidden="true"></i>
                    </button>
                </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumnsLanguages"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumnsLanguages;"></tr>
        </table>
        <div class="buttons" fxLayout="row" fxLayoutAlign="end center">
            <button type="button" mat-raised-button color="primary" (click)="goToProfileLanguage()">
                <i class="fa fa-plus" aria-hidden="true"></i>
                Nueva
            </button>
        </div>
    </div>
</div>
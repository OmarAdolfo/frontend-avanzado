<form class="form-horizontal mt-5" [formGroup]="personalInformationForm" (ngSubmit)="save()">
    <div fxLayout="row">
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Nombre Comercial" formControlName="comercialName" name="comercialName">
                <mat-error
                    *ngIf="personalInformationForm.controls.comercialName.invalid && (personalInformationForm.controls.comercialName.dirty || personalInformationForm.controls.comercialName.touched)">
                    <div *ngIf="personalInformationForm.controls.comercialName.errors.required">
                        El nombre comercial es obligatorio
                    </div>
                    <div *ngIf="personalInformationForm.controls.comercialName.errors.minlength">
                        El nombre comercial debe ser mínimo 3 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.comercialName.errors.maxlength">
                        El nombre comercial debe ser máximo 255 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.comercialName.errors.whitespace">
                        El nombre comercial no puede contener espacios en blanco
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Razón social" formControlName="businessName" name="businessName">
                <mat-error
                    *ngIf="personalInformationForm.controls.comercialName.invalid && (personalInformationForm.controls.comercialName.dirty || personalInformationForm.controls.comercialName.touched)">
                    <div *ngIf="personalInformationForm.controls.businessName.errors.required">
                        La razón social es obligatorio
                    </div>
                    <div *ngIf="personalInformationForm.controls.businessName.errors.minlength">
                        La razón social debe ser mínimo 3 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.businessName.errors.maxlength">
                        La razón social debe ser máximo 255 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.businessName.errors.whitespace">
                        La razón social no puede contener espacios en blanco
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
    </div>

    <div fxLayout="row">
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="CIF" formControlName="documentNumber" name="documentNumber">
            </mat-form-field>
        </div>
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Dirección" formControlName="street" name="street">
            </mat-form-field>
        </div>
    </div>

    <div fxLayout="row">
        <div fxFlex="50">
            <mat-form-field>
                <mat-label>Provincia</mat-label>
                <mat-select formControlName="province" [compareWith]="compare">
                    <mat-option>--</mat-option>
                    <mat-option *ngFor="let province of provinces" [value]="province">
                        {{province.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div fxFlex="50">
            <mat-form-field>
                <mat-label>Municipio</mat-label>
                <mat-select formControlName="municipie" [compareWith]="compare">
                    <mat-option>--</mat-option>
                    <mat-option *ngFor="let municipie of municipies" [value]="municipie">
                        {{municipie.name}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>

    <div fxLayout="row">
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Url" formControlName="url" name="url">
                <mat-error
                    *ngIf="personalInformationForm.controls.url.invalid && (personalInformationForm.controls.url.dirty || personalInformationForm.controls.businessName.touched)">
                    <div *ngIf="personalInformationForm.controls.url.invalid && (personalInformationForm.controls.url.dirty || personalInformationForm.controls.businessName.touched)"
                        class="alert alert-danger">
                        <div *ngIf="personalInformationForm.controls.url.errors.pattern">
                            La url no es válida
                        </div>
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column" fxFlexFill>
        <mat-card-title>Datos de contacto</mat-card-title>
        <hr>
    </div>

    <div fxLayout="row">
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Nombre" formControlName="name" name="name">
                <mat-error
                    *ngIf="personalInformationForm.controls.name.invalid && (personalInformationForm.controls.name.dirty || personalInformationForm.controls.name.touched)">
                    <div *ngIf="personalInformationForm.controls.name.errors.required">
                        El nombre es obligatorio
                    </div>
                    <div *ngIf="personalInformationForm.controls.name.errors.minlength">
                        El nombre debe ser mínimo 3 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.name.errors.maxlength">
                        El nombre debe ser máximo 55 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.name.errors.pattern">
                        El nombre no puede contener espacios ni al final ni al principio ni tampoco
                        carácteres especiales
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Apellidos" formControlName="surname" name="surname">
                <mat-error
                    *ngIf="personalInformationForm.controls.surname.invalid && (personalInformationForm.controls.surname.dirty || personalInformationForm.controls.surname.touched)">
                    <div *ngIf="personalInformationForm.controls.surname.errors.required">
                        El apellido es obligatorio
                    </div>
                    <div *ngIf="personalInformationForm.controls.surname.errors.minlength">
                        El apellido debe ser mínimo 3 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.surname.errors.maxlength">
                        El apellido debe ser máximo 55 carácteres
                    </div>
                    <div *ngIf="personalInformationForm.controls.surname.errors.pattern">
                        El apellido no puede contener espacios ni al final ni al principio ni
                        tampoco
                        carácteres
                        especiales
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
    </div>
    <div fxLayout="row">
        <div fxFlex="50">
            <mat-form-field>
                <input matInput placeholder="Correo electrónico" formControlName="email" name="email">
                <mat-error
                    *ngIf="personalInformationForm.controls.email.invalid && (personalInformationForm.controls.email.dirty || personalInformationForm.controls.email.touched)">
                    <div *ngIf="personalInformationForm.controls.email.errors.email">
                        El correo electrónico no tiene un formato correcto
                    </div>
                </mat-error>
            </mat-form-field>
        </div>
    </div>

    <div class="buttons" fxLayout="row" fxLayoutAlign="end center">
        <button mat-raised-button color="default" type="button" (click)="back()">
            <i class="fa fa-back" aria-hidden="true"></i>
            Volver
        </button>
        <button mat-raised-button color="primary" type="submit"
            [disabled]="personalInformationForm.pristine || personalInformationForm.invalid">
            <i class="fa fa-save" aria-hidden="true"></i>
            Guardar
        </button>
    </div>
</form>